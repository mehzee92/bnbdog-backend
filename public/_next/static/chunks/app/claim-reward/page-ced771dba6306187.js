(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160,500,299],{35883:function(){},46601:function(){},29120:function(){},46586:function(){},87148:function(e,n,t){Promise.resolve().then(t.bind(t,36308))},64207:function(e,n){"use strict";function t(){return null}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}}),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},36308:function(e,n,t){"use strict";t.r(n);var r=t(57437),c=t(2265),s=t(24033),i=t(64207),a=t.n(i),o=t(99835),u=t(49698),l=t(3467),d=t(10479),f=t(45057),h=t(89007),m=t(93046),p=t(23478),g=t(61396),v=t.n(g);n.default=function(e){let{address:n}=(0,o.m)(),t=(0,s.useSearchParams)(),i=t.get("uid"),g=t.get("index_no"),y={name:"",uid:i,detail:""},[b,x]=(0,c.useState)(y),j=(0,m.v9)(e=>e.blockchain),[w,S]=(0,c.useState)(0);(0,c.useRef)(w);let[N,k]=(0,c.useState)(0),[_,O]=(0,c.useState)(""),E=(0,s.useRouter)(),C=async(e,n,t)=>{let r=await (0,l.L)(h.v,{abi:u.abi,address:u.FP[j.chain]+"",functionName:"getStakeDetail",args:[e,n,t]});S((0,u.mX)(r[0])),k((0,u.mX)(r[1]))},P=e=>new Promise(n=>{let t=u.JW+"/api/pool?uid="+e;fetch(t).then(e=>e.json()).then(e=>{y=e,x(e),n(y)}).catch(e=>{O("Fetch error:"+e)})}),I=async e=>{let t=await (0,d.n)(h.v,{abi:u.abi,address:u.FP[j.chain],functionName:"unstake",args:[b.uid,e]}),r=(0,f.e)(h.v,{hash:t});r.then(async e=>{C(n,i,g).then(()=>{R(n,b.uid,g)})})},R=(e,n,t)=>{let r=(0,p.L)(h.v),c={address:e,uid:n,chain:r,index_no:t};c=JSON.stringify(c);let s=u.JW+"/api/stake/unstaked";fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:c}).then(e=>e.json()).then(async e=>{E.push("/my-stakings")}).catch(e=>{console.error("Fetch error:",e)})};return(0,c.useEffect)(()=>{P(i),C(n,i,g)},[]),(0,r.jsxs)("main",{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Claim Reward and Unstake"})}),(0,r.jsx)("h1",{className:"fs-5 my-5 b",children:"Claim Reward & Unstake"}),(0,r.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},className:"bg bd rd px-4 py-4",children:[(0,r.jsx)("h2",{className:"cen white fs-5",children:b.name}),(0,r.jsxs)("div",{className:"flex",style:{justifyContent:"space-between"},children:[(0,r.jsxs)("p",{className:"cen flex1 gray my-3",children:["Pool Id # ",i]}),(0,r.jsxs)("p",{className:"cen flex1 gray my-3",children:["Index No # ",g]})]}),(0,r.jsxs)("div",{className:"flex my-4",children:[(0,r.jsx)("div",{className:"flex1",children:(0,r.jsxs)("p",{className:"fs-3 bg rd py-2 gray cen",children:["Staked Amount:",(0,r.jsxs)("span",{className:"green",children:["  ",w," ",b.staking_token_name," "]})]})}),(0,r.jsx)("div",{className:"lg-only px-2"}),(0,r.jsx)("div",{className:"flex1",children:(0,r.jsxs)("p",{className:"fs-3 bg rd py-2 gray cen",children:["Reward Available:",(0,r.jsxs)("span",{className:"green",children:["  ",(0,u.NM)(N)," ",b.reward_token_name," "]})]})})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:"fs-2 gray",children:[(0,r.jsx)("li",{className:"py-1",children:"Reward and Staked tokens both will be sent to your connected wallet."}),(0,r.jsxs)("li",{className:"py-1",children:[(0,r.jsxs)("span",{className:"tcs",children:[b.sacrifice,"%"]})," Early unstaking fee will be charged on early unstaking."]}),(0,r.jsxs)("li",{className:"py-1",children:["Any ",(0,r.jsx)("span",{className:"tcs",children:" Fee charged by Token "})," is not in account because that is implemented inside token smart contract."]})]})}),(0,r.jsxs)("div",{className:"form-element cen my-3 flex mt-30",children:[(0,r.jsx)("button",{className:"mx-2",onClick:()=>{I(g)},children:"Claim Reward & Unstake"}),(0,r.jsx)(v(),{className:"mx-2 btn",href:"/stake/?uid="+i,children:"View Pool"})]})]})]})}},49698:function(e,n,t){"use strict";t.d(n,{FP:function(){return i},JW:function(){return c},Jk:function(){return a},NM:function(){return o},i4:function(){return s},mX:function(){return u},r0:function(){return l}});var r=t(41935);let c="https://bnbdoginu.com/",s="0x6489bC90146A8db2615468Ef198c08B786280954",i="0x05d0BAab0ee917F0Ed8df8E34BF29Ef8c4636A01",a="0x710A8F5aE44b5a1a18976D87B4442aAc9b9e9609",o=e=>Math.round(1e3*e)/1e3;function u(e){return e=o(1e4*r.dF(e.toString()))/1e4}function l(e){return e=r.vz(e+"","ether")}},89007:function(e,n,t){"use strict";t.d(n,{v:function(){return u}});var r=t(16237),c=t(20246),s=t(77433),i=t(16198),a=t(10337),o=t(91735);let u=(0,r._)({chains:[o.d],connectors:[(0,s.L)(),(0,i.D)({appName:"BNBDOGINU"}),(0,a.a)({projectId:"fe0b280c99ba43c32644fb8b84e7dc96"})],ssr:!0,transports:{[o.d.id]:(0,c.d)()}})},81853:function(e,n,t){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(2265),c="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},s=r.useState,i=r.useEffect,a=r.useLayoutEffect,o=r.useDebugValue;function u(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!c(e,t)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=s({inst:{value:t,getSnapshot:n}}),c=r[0].inst,l=r[1];return a(function(){c.value=t,c.getSnapshot=n,u(c)&&l({inst:c})},[e,t,n]),i(function(){return u(c)&&l({inst:c}),e(function(){u(c)&&l({inst:c})})},[e]),o(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},78704:function(e,n,t){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(2265),c=t(26272),s="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},i=c.useSyncExternalStore,a=r.useRef,o=r.useEffect,u=r.useMemo,l=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,c){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=i(e,(d=u(function(){function e(e){if(!o){if(o=!0,i=e,e=r(e),void 0!==c&&f.hasValue){var n=f.value;if(c(n,e))return a=n}return a=e}if(n=a,s(i,e))return n;var t=r(e);return void 0!==c&&c(n,t)?n:(i=e,a=t)}var i,a,o=!1,u=void 0===t?null:t;return[function(){return e(n())},null===u?void 0:function(){return e(u())}]},[n,t,r,c]))[0],d[1]);return o(function(){f.hasValue=!0,f.value=h},[h]),l(h),h}},26272:function(e,n,t){"use strict";e.exports=t(81853)},65401:function(e,n,t){"use strict";e.exports=t(78704)},23478:function(e,n,t){"use strict";function r(e){return e.state.chainId}t.d(n,{L:function(){return r}})},3467:function(e,n,t){"use strict";t.d(n,{L:function(){return u}});var r=t(3458),c=t(53883),s=t(65573),i=t(82600),a=t(58448);async function o(e,n){let{abi:t,address:o,args:u,functionName:l,...d}=n,f=(0,c.R)({abi:t,args:u,functionName:l});try{let{data:n}=await (0,i.s)(e,a.R,"call")({...d,data:f,to:o});return(0,r.k)({abi:t,args:u,functionName:l,data:n||"0x"})}catch(e){throw(0,s.S)(e,{abi:t,address:o,args:u,docsPath:"/docs/contract/readContract",functionName:l})}}function u(e,n){let{chainId:t}=n,r=e.getClient({chainId:t});return o(r,n)}},48369:function(e,n,t){"use strict";t.d(n,{v:function(){return function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){let r,c;if(n.constructor!==t.constructor)return!1;if(Array.isArray(n)&&Array.isArray(t)){if((r=n.length)!==t.length)return!1;for(c=r;0!=c--;)if(!e(n[c],t[c]))return!1;return!0}if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();let s=Object.keys(n);if((r=s.length)!==Object.keys(t).length)return!1;for(c=r;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,s[c]))return!1;for(c=r;0!=c--;){let r=s[c];if(r&&!e(n[r],t[r]))return!1}return!0}return n!=n&&t!=t}}})},81229:function(e,n,t){"use strict";t.d(n,{V:function(){return a},F:function(){return o}});var r=t(2265);let c=!1;async function s(e,n={}){if(c)return[];c=!0,e.setState(e=>({...e,status:e.current?"reconnecting":"connecting"}));let t=[];if(n.connectors?.length)for(let r of n.connectors){let n;n="function"==typeof r?e._internal.connectors.setup(r):r,t.push(n)}else t.push(...e.connectors);let r=await e.storage?.getItem("recentConnectorId"),s={};for(let[,n]of e.state.connections)s[n.connector.id]=1;r&&(s[r]=0);let i=Object.keys(s).length>0?[...t].sort((e,n)=>(s[e.id]??10)-(s[n.id]??10)):t,a=!1,o=[];for(let n of i){let t=await n.isAuthorized();if(!t)continue;let r=await n.connect({isReconnecting:!0}).catch(()=>null);r&&(n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),e.setState(e=>{let t=new Map(a?e.connections:new Map).set(n.uid,{accounts:r.accounts,chainId:r.chainId,connector:n});return{...e,current:a?e.current:n.uid,connections:t}}),o.push({accounts:r.accounts,chainId:r.chainId,connector:n}),a=!0)}return a?e.setState(e=>({...e,status:"connected"})):e.setState(e=>({...e,connections:new Map,current:void 0,status:"disconnected"})),c=!1,o}function i(e){let{children:n,config:t,initialState:c,reconnectOnMount:i=!0}=e,{onMount:a}=function(e,n){let{initialState:t,reconnectOnMount:r}=n;return t&&e.setState({...t,connections:r?t.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){if(e._internal.ssr){await e._internal.store.persist.rehydrate();let n=e._internal.mipd?.getProviders().map(e._internal.connectors.providerDetailToConnector).map(e._internal.connectors.setup);e._internal.connectors.setState(e=>[...e,...n??[]])}r?s(e):e.storage&&e.setState(e=>({...e,connections:new Map}))}}}(t,{initialState:c,reconnectOnMount:i});t._internal.ssr||a();let o=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(o.current&&t._internal.ssr)return a(),()=>{o.current=!1}},[]),n}let a=(0,r.createContext)(void 0);function o(e){let{children:n,config:t}=e;return(0,r.createElement)(i,e,(0,r.createElement)(a.Provider,{value:t},n))}},99835:function(e,n,t){"use strict";t.d(n,{m:function(){return u}});var r=t(48369);function c(e){let n=e.state.current,t=e.state.connections.get(n),r=t?.accounts,c=r?.[0],s=e.chains.find(e=>e.id===t?.chainId),i=e.state.status;switch(i){case"connected":return{address:c,addresses:r,chain:s,chainId:t?.chainId,connector:t?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:c,addresses:r,chain:s,chainId:t?.chainId,connector:t?.connector,isConnected:!!c,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:c,addresses:r,chain:s,chainId:t?.chainId,connector:t?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:s,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}var s=t(41012),i=t(2265),a=t(65401);let o=e=>"object"==typeof e&&!Array.isArray(e);function u(e={}){let n=(0,s.Z)(e);return function(e,n,t=n,c=r.v){let s=(0,i.useRef)([]),u=(0,a.useSyncExternalStoreWithSelector)(e,n,t,e=>e,(e,n)=>{if(o(e)&&o(n)&&s.current.length){for(let t of s.current){let r=c(e[t],n[t]);if(!r)return!1}return!0}return c(e,n)});if(o(u)){let e={...u};return Object.defineProperties(e,Object.entries(e).reduce((e,[n,t])=>({...e,[n]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(n)||s.current.push(n),t)}}),{})),e}return u}(e=>(function(e,n){let{onChange:t}=n;return e.subscribe(()=>c(e),t,{equalityFn(e,n){let{connector:t,...c}=e,{connector:s,...i}=n;return(0,r.v)(c,i)&&t?.id===s?.id&&t?.uid===s?.uid}})})(n,{onChange:e}),()=>c(n))}},41012:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(2265),c=t(81229),s=t(62549);let i=()=>"wagmi@2.0.0-rc.3";class a extends s.G{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://rc.wagmi.sh/react"}get version(){return i()}}class o extends a{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"https://rc.wagmi.sh/react/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function u(e={}){let n=e.config??(0,r.useContext)(c.V);if(!n)throw new o;return n}}},function(e){e.O(0,[731,396,261,166,749,46,971,864,744],function(){return e(e.s=87148)}),_N_E=e.O()}]);