(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{35883:function(){},46601:function(){},29120:function(){},46586:function(){},87148:function(e,n,t){Promise.resolve().then(t.bind(t,36308))},36308:function(e,n,t){"use strict";t.r(n);var a=t(57437),i=t(2265),s=t(24033),u=t(64207),p=t.n(u),r=t(99835),y=t(49698),d=t(3467),l=t(10479),m=t(45057),o=t(89007),c=t(61396),T=t.n(c),f=t(51524);n.default=function(e){let{address:n}=(0,r.m)(),t=(0,s.useSearchParams)(),u=t.get("uid"),c=t.get("index_no"),b={name:"",uid:u,detail:""},[x,h]=(0,i.useState)(b),[w,k]=(0,i.useState)(0);(0,i.useRef)(w);let[v,g]=(0,i.useState)(0),[N,M]=(0,i.useState)(""),j=(0,s.useRouter)(),S=async(e,n,t)=>{let a=await (0,d.L)(o.v,{abi:f,address:y.FP,functionName:"getStakeDetail",args:[e,n,t]});k((0,y.mX)(a[0])),g((0,y.mX)(a[1]))},P=e=>new Promise(n=>{let t=y.JW+"/api/pool?uid="+e;fetch(t).then(e=>e.json()).then(e=>{b=e,h(e),n(b)}).catch(e=>{M("Fetch error:"+e)})}),C=async e=>{let t=await (0,l.n)(o.v,{abi:f,address:y.FP,functionName:"unstake",args:[x.uid,e]}),a=(0,m.e)(o.v,{hash:t});a.then(async e=>{S(n,u,c).then(()=>{_(n,x.uid,c)})})},_=(e,n,t)=>{let a={address:e,uid:n,index_no:t};a=JSON.stringify(a);let i=y.JW+"/api/stakes/unstaked";fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then(e=>e.json()).then(async e=>{j.push("/my-stakings")}).catch(e=>{console.error("Fetch error:",e)})};return(0,i.useEffect)(()=>{P(u),S(n,u,c)},[]),(0,a.jsxs)("main",{children:[(0,a.jsx)(p(),{children:(0,a.jsx)("title",{children:"Claim Reward and Unstake"})}),(0,a.jsx)("h1",{className:"fs-5 my-5 b",children:"Claim Reward & Unstake"}),(0,a.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},className:"bg bd rd px-4 py-4",children:[(0,a.jsx)("h2",{className:"cen white fs-5",children:x.name}),(0,a.jsxs)("div",{className:"flex",style:{justifyContent:"space-between"},children:[(0,a.jsxs)("p",{className:"cen flex1 gray my-3",children:["Pool Id # ",u]}),(0,a.jsxs)("p",{className:"cen flex1 gray my-3",children:["Index No # ",c]})]}),(0,a.jsxs)("div",{className:"flex my-4",children:[(0,a.jsx)("div",{className:"flex1",children:(0,a.jsxs)("p",{className:"fs-3 bg rd py-2 gray cen",children:["Staked Amount:",(0,a.jsxs)("span",{className:"green",children:["  ",w," ",x.staking_token_name," "]})]})}),(0,a.jsx)("div",{className:"lg-only px-2"}),(0,a.jsx)("div",{className:"flex1",children:(0,a.jsxs)("p",{className:"fs-3 bg rd py-2 gray cen",children:["Reward Available:",(0,a.jsxs)("span",{className:"green",children:["  ",(0,y.NM)(v)," ",x.reward_token_name," "]})]})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("ul",{className:"fs-2 gray",children:[(0,a.jsx)("li",{className:"py-1",children:"Reward and Staked tokens both will be sent to your connected wallet."}),(0,a.jsxs)("li",{className:"py-1",children:[(0,a.jsxs)("span",{className:"tcs",children:[x.sacrifice,"%"]})," Early unstaking fee will be charged on early unstaking."]}),(0,a.jsxs)("li",{className:"py-1",children:["Any ",(0,a.jsx)("span",{className:"tcs",children:" Fee charged by Token "})," is not in account because that is implemented inside token smart contract."]})]})}),(0,a.jsxs)("div",{className:"form-element cen my-3 flex mt-30",children:[(0,a.jsx)("button",{className:"mx-2",onClick:()=>{C(c)},children:"Claim Reward & Unstake"}),(0,a.jsx)(T(),{className:"mx-2 btn",href:"/stake/?uid="+u,children:"View Pool"})]})]})]})}},49698:function(e,n,t){"use strict";t.d(n,{FP:function(){return s},JW:function(){return i},Jc:function(){return p},Jk:function(){return u},NM:function(){return y},UA:function(){return r},mX:function(){return d},r0:function(){return l}});var a=t(41935);let i="https://bnbdoginu.com",s="0x0312C457815E3e09C66BC6145b599bFbe68e484e",u="0x9bebB43712De6DFe472d1f8Fc9C58a1CE2c8fD52",p=.1,r=.1,y=e=>Math.round(1e3*e)/1e3;function d(e){return e=y(1e4*a.dF(e.toString()))/1e4}function l(e){return e=a.vz(e+"","ether")}},89007:function(e,n,t){"use strict";t.d(n,{v:function(){return y}});var a=t(16237),i=t(20246),s=t(77433),u=t(16198),p=t(10337);let r={id:56,name:"BSC",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc/6231d7b754d4430f0ee05872fdb29ea2981f98906f72bf02e9f18cf552401395"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com/"}},testnet:!1},y=(0,a._)({chains:[r],connectors:[(0,s.L)(),(0,u.D)({appName:"BNBDOGINU"}),(0,p.a)({projectId:"fe0b280c99ba43c32644fb8b84e7dc96"})],ssr:!0,transports:{[r.id]:(0,i.d)(r.rpcUrls.default.http[0])}})},51524:function(e){"use strict";e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"stakingToken","type":"address"},{"indexed":false,"internalType":"address","name":"rewardToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"periodInDays","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"rewardApy","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"pid","type":"uint256"}],"name":"PoolCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"addr","type":"address"},{"indexed":false,"internalType":"uint256","name":"pid","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardIssued","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"addr","type":"address"},{"indexed":false,"internalType":"uint256","name":"pid","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Unstaked","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_pids","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"_stakes","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"calculateReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"stakingToken","type":"address"},{"internalType":"address","name":"rewardToken","type":"address"},{"internalType":"uint256","name":"periodInDays","type":"uint256"},{"internalType":"uint256","name":"rewardApy","type":"uint256"},{"internalType":"uint256","name":"maxPossibleStakeAmount","type":"uint256"},{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"sacrifice","type":"uint256"}],"name":"createPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feeToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fees","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"addr","type":"address"}],"name":"getBalanceApprove","outputs":[{"internalType":"uint256[2]","name":"data","type":"uint256[2]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"getLastIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"getPool","outputs":[{"components":[{"internalType":"address","name":"stakingToken","type":"address"},{"internalType":"address","name":"rewardToken","type":"address"},{"internalType":"uint256","name":"period","type":"uint256"},{"internalType":"uint256","name":"apy","type":"uint256"},{"internalType":"uint256","name":"maxPossibleStakeAmount","type":"uint256"},{"internalType":"uint256","name":"avalReward","type":"uint256"},{"internalType":"uint256","name":"issuedReward","type":"uint256"},{"internalType":"uint256","name":"stakedAmount","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"},{"internalType":"uint256","name":"sacrifice","type":"uint256"}],"internalType":"struct Pool","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"getPoolDetails","outputs":[{"internalType":"uint256[5]","name":"data","type":"uint256[5]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"getPoolLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getStakeDetail","outputs":[{"internalType":"uint256[2]","name":"data","type":"uint256[2]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"getStakingTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddr","type":"address"}],"name":"getTokenMeta","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"decimals","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"isPoolExists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"address","name":"addr","type":"address"}],"name":"isStakerExists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"poolMinReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"pools","outputs":[{"internalType":"address","name":"stakingToken","type":"address"},{"internalType":"address","name":"rewardToken","type":"address"},{"internalType":"uint256","name":"period","type":"uint256"},{"internalType":"uint256","name":"apy","type":"uint256"},{"internalType":"uint256","name":"maxPossibleStakeAmount","type":"uint256"},{"internalType":"uint256","name":"avalReward","type":"uint256"},{"internalType":"uint256","name":"issuedReward","type":"uint256"},{"internalType":"uint256","name":"stakedAmount","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"},{"internalType":"uint256","name":"sacrifice","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"stakers","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stakingFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"rewardAmount","type":"uint256"}],"name":"supplyReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"timeUnit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newStakingFee","type":"uint256"},{"internalType":"uint256","name":"_newPoolFee","type":"uint256"}],"name":"updateFee","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},function(e){e.O(0,[731,396,220,749,500,971,864,744],function(){return e(e.s=87148)}),_N_E=e.O()}]);