(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{35883:function(){},46601:function(){},29120:function(){},46586:function(){},14777:function(e,s,a){Promise.resolve().then(a.bind(a,47902))},47902:function(e,s,a){"use strict";a.r(s);var n=a(57437),t=a(2265),c=a(24033),i=a(49698),r=a(3467),d=a(10479),l=a(45057),o=a(89007),u=a(93046);s.default=function(){let e=(0,c.useRouter)(),s=(0,c.useSearchParams)(),a=s.get("uid"),m=s.get("token"),[h,x]=(0,t.useState)({name:"Test Pool",uid:a,detail:"some detail to be added here."}),[f,p]=(0,t.useState)(0),[N,b]=(0,t.useState)(0),[v,j]=(0,t.useState)(0),[g,y]=(0,t.useState)(0),[w,k]=(0,t.useState)(0),[P,S]=(0,t.useState)((0,n.jsx)(n.Fragment,{})),A=(0,u.v9)(e=>e.blockchain);async function _(){let e=await (0,r.L)(o.v,{abi:i.abi,address:i.FP[A.chain]+"",functionName:"poolMinReward",args:[a]});k((0,i.mX)(e))}let R=e=>{let s=i.JW+"/api/pool?uid="+e;fetch(s).then(e=>e.json()).then(e=>{x(e)})},E=async()=>{let e=await (0,d.n)(o.v,{abi:i.abi,address:h.reward_token_address,functionName:"approve",args:[i.FP[A.chain],(0,i.r0)(w)]});return(0,l.e)(o.v,{hash:e})},F=async()=>{h.uid;let e=(0,i.r0)(w+"")+"",s=await (0,d.n)(o.v,{abi:i.abi,address:i.FP[A.chain],functionName:"supplyReward",args:[h.uid,e+""]});return(0,l.e)(o.v,{hash:s})};async function B(e){return new Promise(async s=>{let a=await (0,r.L)(o.v,{abi:i.abi,address:i.FP[A.chain],functionName:"getPoolDetails",args:[e]});p((0,i.mX)(a[0])),b((0,i.mX)(a[1])),j((0,i.mX)(a[2])),y(a[3].toString()),s()})}return(0,t.useEffect)(()=>{R(h.uid)},[]),(0,t.useEffect)(()=>{B(h.uid),_()},[]),(0,n.jsxs)("main",{children:[(0,n.jsx)("h1",{children:"Add Rewards to Pool"}),(0,n.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},className:"bg px-3 py-3",children:[(0,n.jsx)("h2",{className:"cen tcs",children:h.name}),(0,n.jsxs)("p",{className:"cen gray",children:["Pool Id # ",a]}),(0,n.jsx)("div",{className:"py-3 px-2 gray",children:(0,n.jsx)("p",{className:"cen",style:{lineHeight:"25px"},children:h.detail})}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Amount Staked : ",(0,n.jsxs)("span",{className:"tcs",children:[" ",v," ",h.staking_token_name]})]}),(0,n.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Reward Available : ",(0,n.jsxs)("span",{className:"tcs",children:[" ",f," ",m]})]})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Max Possible Staking : ",(0,n.jsxs)("span",{className:"tcs",children:[" ",h.maxAmount," "]})]}),(0,n.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Total Stakers : ",(0,n.jsxs)("span",{className:"tcs",children:[" ",g," "]})]})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Staking Period : ",(0,n.jsxs)("span",{className:"tcs",children:[" ",h.period," "]})]}),(0,n.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" APY % : ",(0,n.jsxs)("span",{className:"tcs",children:[" ",h.reward_percentage,"% "]})]})]}),(0,n.jsx)("div",{className:"flex px-2",children:(0,n.jsxs)("div",{className:"form-element w100p",children:[(0,n.jsxs)("label",{style:{width:"40%"},children:["Number of Tokens (",m,")"]}),(0,n.jsx)("input",{min:w,className:"flex1",type:"number",step:100,placeholder:"tokens",value:w}),(0,n.jsx)("p",{className:"gray py-3",children:"Reward deposits can guarantee the pool's trustworthiness"})]})}),(0,n.jsx)("div",{className:"show",style:{height:"30px"},children:P}),(0,n.jsx)("div",{className:"form-element py-3 right",children:(0,n.jsx)("button",{className:"mx-2",onClick:()=>{S((0,n.jsxs)("div",{className:"flex-always",children:[(0,n.jsx)("div",{className:"spinner mx-2"}),(0,n.jsx)("div",{className:"flex1 px-2",children:"Approving reward tokens..."})]})),E().then(()=>(S((0,n.jsx)("div",{className:"b green",children:"Reward tokens approved successfully."})),setTimeout(()=>{S((0,n.jsxs)("div",{className:"flex-always",children:[(0,n.jsx)("div",{className:"spinner mx-2"}),(0,n.jsx)("div",{className:"flex1 px-2",children:"Adding reward to pool..."})]}))},2500),F())).then(()=>(S((0,n.jsx)("div",{className:"b green",children:"Reward added successfully."})),setTimeout(()=>{S("")},500),B(h.uid))).then(()=>setTimeout(()=>{e.push("/stake/?uid="+a)},500))},children:"Add Reward"})})]})]})}},49698:function(e,s,a){"use strict";a.d(s,{FP:function(){return i},JW:function(){return t},Jk:function(){return r},NM:function(){return d},i4:function(){return c},mX:function(){return l},r0:function(){return o}});var n=a(41935);let t="https://bnbdoginu.com",c="0x6489bC90146A8db2615468Ef198c08B786280954",i="0x05d0BAab0ee917F0Ed8df8E34BF29Ef8c4636A01",r="0x710A8F5aE44b5a1a18976D87B4442aAc9b9e9609",d=e=>Math.round(1e3*e)/1e3;function l(e){return e=d(1e4*n.dF(e.toString()))/1e4}function o(e){return e=n.vz(e+"","ether")}},89007:function(e,s,a){"use strict";a.d(s,{v:function(){return l}});var n=a(16237),t=a(20246),c=a(77433),i=a(16198),r=a(10337),d=a(91735);let l=(0,n._)({chains:[d.d],connectors:[(0,c.L)(),(0,i.D)({appName:"BNBDOGINU"}),(0,r.a)({projectId:"fe0b280c99ba43c32644fb8b84e7dc96"})],ssr:!0,transports:{[d.d.id]:(0,t.d)()}})},3467:function(e,s,a){"use strict";a.d(s,{L:function(){return l}});var n=a(3458),t=a(53883),c=a(65573),i=a(82600),r=a(58448);async function d(e,s){let{abi:a,address:d,args:l,functionName:o,...u}=s,m=(0,t.R)({abi:a,args:l,functionName:o});try{let{data:s}=await (0,i.s)(e,r.R,"call")({...u,data:m,to:d});return(0,n.k)({abi:a,args:l,functionName:o,data:s||"0x"})}catch(e){throw(0,c.S)(e,{abi:a,address:d,args:l,docsPath:"/docs/contract/readContract",functionName:o})}}function l(e,s){let{chainId:a}=s,n=e.getClient({chainId:a});return d(n,s)}}},function(e){e.O(0,[731,261,166,749,46,971,864,744],function(){return e(e.s=14777)}),_N_E=e.O()}]);