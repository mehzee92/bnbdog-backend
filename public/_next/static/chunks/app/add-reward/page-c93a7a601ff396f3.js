(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{35883:function(){},46601:function(){},29120:function(){},46586:function(){},14777:function(e,s,a){Promise.resolve().then(a.bind(a,47902))},47902:function(e,s,a){"use strict";a.r(s);var t=a(57437),n=a(2265),i=a(24033),r=a(13580),c=a(3467),l=a(10479),d=a(45057),o=a(89007),u=a(93046);s.default=function(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),a=s.get("uid"),h=s.get("token"),[m,f]=(0,n.useState)({name:"Test Pool",uid:a,detail:"some detail to be added here."}),[p,x]=(0,n.useState)(0),[b,g]=(0,n.useState)(0),[v,j]=(0,n.useState)(0),[N,w]=(0,n.useState)(0),[y,k]=(0,n.useState)(0),[P,S]=(0,n.useState)((0,t.jsx)(t.Fragment,{})),M=(0,u.v9)(e=>e.blockchain);async function _(){let e=await (0,c.L)(o.v,{abi:r.Mt,address:r.$0[M.chain]+"",functionName:"poolMinReward",args:[a]});k((0,r.mX)(e))}let $=e=>{let s=r.JW+"/api/pool?uid="+e;fetch(s).then(e=>e.json()).then(e=>{f(e)})},A=async()=>{let e=await (0,l.n)(o.v,{abi:r.Mt,address:m.reward_token_address,functionName:"approve",args:[r.$0[M.chain],(0,r.r0)(y)]});return(0,d.e)(o.v,{hash:e})},E=async()=>{m.uid;let e=(0,r.r0)(y+"")+"",s=await (0,l.n)(o.v,{abi:r.Mt,address:r.$0[M.chain],functionName:"supplyReward",args:[m.uid,e+""]});return(0,d.e)(o.v,{hash:s})};async function R(e){return new Promise(async s=>{let a=await (0,c.L)(o.v,{abi:r.Mt,address:r.$0[M.chain],functionName:"getPoolDetails",args:[e]});x((0,r.mX)(a[0])),g((0,r.mX)(a[1])),j((0,r.mX)(a[2])),w(a[3].toString()),s()})}return(0,n.useEffect)(()=>{$(m.uid)},[]),(0,n.useEffect)(()=>{R(m.uid),_()},[]),(0,t.jsxs)("main",{children:[(0,t.jsx)("h1",{children:"Add Rewards to Pool"}),(0,t.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},className:"bg px-3 py-3",children:[(0,t.jsx)("h2",{className:"cen tcs",children:m.name}),(0,t.jsxs)("p",{className:"cen gray",children:["Pool Id # ",a]}),(0,t.jsx)("div",{className:"py-3 px-2 gray",children:(0,t.jsx)("p",{className:"cen",style:{lineHeight:"25px"},children:m.detail})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Amount Staked : ",(0,t.jsxs)("span",{className:"tcs",children:[" ",v," ",m.staking_token_name]})]}),(0,t.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Reward Available : ",(0,t.jsxs)("span",{className:"tcs",children:[" ",p," ",h]})]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Max Possible Staking : ",(0,t.jsxs)("span",{className:"tcs",children:[" ",m.maxAmount," "]})]}),(0,t.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Total Stakers : ",(0,t.jsxs)("span",{className:"tcs",children:[" ",N," "]})]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" Staking Period : ",(0,t.jsxs)("span",{className:"tcs",children:[" ",m.period," "]})]}),(0,t.jsxs)("div",{className:"bd rd bg py-2 cen flex1 fs-2 m1",children:[" APY % : ",(0,t.jsxs)("span",{className:"tcs",children:[" ",m.reward_percentage,"% "]})]})]}),(0,t.jsx)("div",{className:"flex px-2",children:(0,t.jsxs)("div",{className:"form-element w100p",children:[(0,t.jsxs)("label",{style:{width:"40%"},children:["Number of Tokens (",h,")"]}),(0,t.jsx)("input",{min:y,className:"flex1",type:"number",step:100,placeholder:"tokens",value:y}),(0,t.jsx)("p",{className:"gray py-3",children:"Reward deposits can guarantee the pool's trustworthiness"})]})}),(0,t.jsx)("div",{className:"show",style:{height:"30px"},children:P}),(0,t.jsx)("div",{className:"form-element py-3 right",children:(0,t.jsx)("button",{className:"mx-2",onClick:()=>{S((0,t.jsxs)("div",{className:"flex-always",children:[(0,t.jsx)("div",{className:"spinner mx-2"}),(0,t.jsx)("div",{className:"flex1 px-2",children:"Approving reward tokens..."})]})),A().then(()=>(S((0,t.jsx)("div",{className:"b green",children:"Reward tokens approved successfully."})),setTimeout(()=>{S((0,t.jsxs)("div",{className:"flex-always",children:[(0,t.jsx)("div",{className:"spinner mx-2"}),(0,t.jsx)("div",{className:"flex1 px-2",children:"Adding reward to pool..."})]}))},2500),E())).then(()=>(S((0,t.jsx)("div",{className:"b green",children:"Reward added successfully."})),setTimeout(()=>{S("")},500),R(m.uid))).then(()=>setTimeout(()=>{e.push("/stake/?uid="+a)},500))},children:"Add Reward"})})]})]})}},89007:function(e,s,a){"use strict";a.d(s,{v:function(){return d}});var t=a(16237),n=a(20246),i=a(77433),r=a(16198),c=a(10337),l=a(91735);let d=(0,t._)({chains:[l.d],connectors:[(0,i.L)(),(0,r.D)({appName:"BNBDOGINU"}),(0,c.a)({projectId:"fe0b280c99ba43c32644fb8b84e7dc96"})],ssr:!0,transports:{[l.d.id]:(0,n.d)()}})},62549:function(e,s,a){"use strict";a.d(s,{G:function(){return c}});let t=()=>"@wagmi/core@2.0.0-rc.3";var n,i,r=function(e,s,a,t){if("a"===a&&!t)throw TypeError("Private accessor was defined without a getter");if("function"==typeof s?e!==s||!t:!s.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?t:"a"===a?t.call(e):t?t.value:s.get(e)};class c extends Error{get docsBaseUrl(){return"https://rc.wagmi.sh/core"}get version(){return t()}constructor(e,s={}){super(),n.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let a=s.cause instanceof c?s.cause.details:s.cause?.message?s.cause.message:s.details,t=s.cause instanceof c&&s.cause.docsPath||s.docsPath;this.message=[e||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...t?[`Docs: ${this.docsBaseUrl}${t}.html${s.docsSlug?`#${s.docsSlug}`:""}`]:[],...a?[`Details: ${a}`]:[],`Version: ${this.version}`].join("\n"),s.cause&&(this.cause=s.cause),this.details=a,this.docsPath=t,this.metaMessages=s.metaMessages,this.shortMessage=e}walk(e){return r(this,n,"m",i).call(this,this,e)}}n=new WeakSet,i=function e(s,a){return a?.(s)?s:s.cause?r(this,n,"m",e).call(this,s.cause,a):s}}},function(e){e.O(0,[731,261,46,467,749,654,971,864,744],function(){return e(e.s=14777)}),_N_E=e.O()}]);