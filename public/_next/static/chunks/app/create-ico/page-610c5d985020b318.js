(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{9274:function(e,a,t){Promise.resolve().then(t.bind(t,17334))},34294:function(e,a,t){"use strict";t.d(a,{W:function(){return n}});let n=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_maxTxAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_addresses",type:"address[]"}],name:"batchWhitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},17334:function(e,a,t){"use strict";t.r(a);var n=t(57437),s=t(2265),l=t(64207),i=t.n(l),r=t(24033),d=t(49698),o=t(99835),u=t(10479),c=t(45057),p=t(3467),m=t(43295),y=t(61396),h=t.n(y),x=t(34294),v=t(7610);let f=e=>{let{section:a,setSection:t}=e;return(0,n.jsxs)("div",{className:"my-2 flex",style:{justifyContent:"center"},children:[(0,n.jsx)("div",{onClick:()=>{t("first")},className:"first"===a?"slide-handler active":"slide-handler ",children:"1"}),(0,n.jsx)("div",{onClick:()=>{t("second")},className:"second"===a?"slide-handler active":"slide-handler ",children:"2"}),(0,n.jsx)("div",{onClick:()=>{t("third")},className:"third"===a?"slide-handler active":"slide-handler ",children:"3"})]})};a.default=function(){let{address:e}=(0,o.m)(),[a]=(0,s.useState)(Date.now()),[t,l]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[T,g]=(0,s.useState)(0),[w,S]=(0,s.useState)(0),[C,k]=(0,s.useState)(""),[M,P]=(0,s.useState)(0),[O,L]=(0,s.useState)(0),[W,F]=(0,s.useState)(0),[_,A]=(0,s.useState)(0),[B,I]=(0,s.useState)(""),[J,R]=(0,s.useState)(""),[D,U]=(0,s.useState)(""),[E,V]=(0,s.useState)(""),[X,q]=(0,s.useState)(""),[H,z]=(0,s.useState)((0,n.jsx)(n.Fragment,{})),[G,K]=(0,s.useState)("first"),Q=()=>0==t.length?(q("Fill Presale Token Name"),setTimeout(()=>q(""),1800),!1):0==y.length?(q("Fill Presale Token symbol"),setTimeout(()=>q(""),1800),!1):0==j.length?(q("Fill Presale Token address"),setTimeout(()=>q(""),1800),!1):0==C.length?(q("Upload Presale token logo"),setTimeout(()=>q(""),1800),!1):0==_?(q("Fill presale period."),setTimeout(()=>q(""),1800),!1):0!=E.length||(q("Fill presale detail."),setTimeout(()=>q(""),1800),!1);(0,r.useRouter)();let Y=()=>{l(""),b(""),N(""),g(0),S(0),k(""),P(0),L(0),F(0),A(0),V(""),I(""),R(""),U("")},Z=async()=>{let e=await (0,u.n)(m.v,{abi:x.W,address:j,functionName:"approve",args:[d.Jk,(0,d.r0)(2*w)]}),a=(0,c.e)(m.v,{hash:e});return a},$=async e=>{try{let a=d.JW+"/api/presales/update-lastest/"+e,t=await fetch(a);await t.json()}catch(e){alert(e.message)}},ee=async a=>{let n={uid:a,token_name:t,token_symbol:y,token_address:j,total_supply:T,tokens_for_sale:w,token_logo:C,presale_tokens_per_eth:M,listing_tokens_per_eth:O,soft_cap:W,period:_,website:B,telegram:J,twitter:D,description:E,creator:e};if((n=JSON.stringify(n)).length<170){q("Please fill the form properly."),setTimeout(()=>{q("")},1500);return}try{let e=d.JW+"/api/presales/new",a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:n});await a.json()}catch(e){alert(e.message)}},ea=async()=>{let e=await (0,u.n)(m.v,{abi:v.h,address:d.Jk,functionName:"createPresale",args:[j,(0,d.r0)(String(w)),(0,d.r0)(String(M)),(0,d.r0)(String(W)),_,a],value:(0,d.r0)(d.Jc)});await (0,c.e)(m.v,{hash:e}),await ee(a),await $(a),z((0,n.jsx)("div",{className:"flex-always",children:(0,n.jsx)("div",{className:"flex1 px-2",children:"Presale created successfully."})}))},et=async()=>{if(42!=j.length){b("");return}let e=await (0,p.L)(m.v,{abi:x.W,address:j,functionName:"symbol"});b(e)},en=async()=>{if(42!=j.length){l("");return}let e=await (0,p.L)(m.v,{abi:x.W,address:j,functionName:"name"});l(e)},es=async()=>{if(42!=j.length)return;let e=await (0,p.L)(m.v,{abi:x.W,address:j,functionName:"totalSupply"});g((0,d.mX)(e)),S(Math.round(.95*(0,d.mX)(e)))},el=async()=>{Q()&&(z((0,n.jsxs)("div",{className:"flex-always",children:[(0,n.jsx)("div",{className:"spinner mx-2"}),(0,n.jsx)("div",{className:"flex1 px-2",children:"Approving presale tokens..."})]})),await Z(),z((0,n.jsxs)("div",{className:"flex-always",children:[(0,n.jsx)("div",{className:"spinner mx-2"}),(0,n.jsx)("div",{className:"flex1 px-2",children:"Creating New Presale ..."})]})),await ea(),Y())};return(0,s.useEffect)(()=>{et(),en(),es()},[j]),(0,n.jsxs)("main",{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"Create New ICO"})}),(0,n.jsx)("h1",{className:"b my-6 fs-4",children:"Create New ICO"}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"bg bd",style:{width:"600px",padding:"25px",border:"solid 1px #0054ff",borderRadius:"20px",margin:"0 auto"},children:["first"===G?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"cen fs-3 b",children:"Token Information"}),(0,n.jsx)(f,{section:G,setSection:K}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Address "}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{N(e.target.value)},placeholder:"Token Contract Address",value:j})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Token Name "}),(0,n.jsx)("input",{className:"token-symbol flex1",maxLength:10,placeholder:"Token Name",onChange:e=>{l(e.target.value)},value:t})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Token Symbol "}),(0,n.jsx)("input",{className:"token-symbol flex1",maxLength:10,placeholder:"Token Symbol",onChange:e=>{b(e.target.value)},value:y})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Total Supply"}),(0,n.jsx)("input",{className:"token-symbol flex1",type:"number",placeholder:"Total Supply",onChange:e=>{g(Number(e.target.value))},value:T})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Tokens For Sale (Same amount will be provided for Liquidity) "}),(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)("input",{type:"number",min:.3*Math.round(T),className:"flex1",onChange:e=>{S(Number(e.target.value))},placeholder:"Tokens For Sale",value:w})}),(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)("button",{onClick:()=>K("second"),className:"btn-classic",children:"Next"})})]})]}):null,"second"===G?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h2",{className:"cen fs-3 b",children:"Tokenomics"}),(0,n.jsx)(f,{section:G,setSection:K}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Tokens Per BNB During Presale "}),(0,n.jsx)("input",{className:"flex1",type:"number",onChange:e=>{P(Number(e.target.value))},placeholder:"ICO Price",value:M})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Tokens Per BNB when Listing"}),(0,n.jsx)("input",{className:"flex1",type:"number",placeholder:"Listing Price",onChange:e=>{L(Number(e.target.value))},value:O})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"ICO Period in Hours"}),(0,n.jsx)("input",{min:0,className:"flex1",type:"number",onChange:e=>{A(Number(e.target.value))},step:1,placeholder:"Period In Days",value:_})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Soft Cap (BNB) "}),(0,n.jsx)("input",{min:0,className:"flex1",type:"number",value:W,onChange:e=>{F(Number(e.target.value))},step:100})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Token Logo URL"}),(0,n.jsx)("input",{className:"flex1",type:"text",value:C,onChange:e=>{k(e.target.value)}})]})]}),(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)("button",{onClick:()=>K("third"),className:"btn-classic",children:"Next"})})]}):null,"third"===G?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"cen fs-3 b",children:"Description & Links"}),(0,n.jsx)(f,{section:G,setSection:K}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Website "}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{I(e.target.value)},placeholder:"URL",value:B})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Telegram"}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{R(e.target.value)},placeholder:"URL",value:J})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Twitter"}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{U(e.target.value)},placeholder:"URL",value:D})]}),(0,n.jsxs)("div",{className:"form-element py-3",children:[(0,n.jsx)("label",{children:"Short Description"}),(0,n.jsx)("textarea",{className:"flex1",style:{height:90},placeholder:"We are the ... ",onChange:e=>{V(e.target.value)},value:E})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"",style:{display:"flex",position:"relative",top:"-22px",height:"10px"},children:[(0,n.jsx)("div",{className:"",style:{color:"red"},children:X}),(0,n.jsx)("div",{className:"",style:{position:"relative"},children:H})]}),(0,n.jsxs)("div",{className:"",children:[e&&(0,n.jsx)("button",{className:"btn-classic",onClick:el,children:"Create Presale"}),!e&&(0,n.jsx)(h(),{href:"/connect",className:"btn-classic",children:"Connect Wallet"})]})]})]}):null]})})})]})}}},function(e){e.O(0,[731,396,891,749,299,15,971,864,744],function(){return e(e.s=9274)}),_N_E=e.O()}]);