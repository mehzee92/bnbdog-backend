(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{9274:function(e,a,t){Promise.resolve().then(t.bind(t,17334))},34294:function(e,a,t){"use strict";t.d(a,{W:function(){return n}});let n=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_maxTxAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_addresses",type:"address[]"}],name:"batchWhitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},17334:function(e,a,t){"use strict";t.r(a);var n=t(57437),s=t(2265),l=t(64207),i=t.n(l),r=t(24033),d=t(49698),o=t(99835),u=t(10479),c=t(45057),p=t(3467),m=t(43295),y=t(61396),h=t.n(y),x=t(34294),f=t(7610);let v=e=>{let{section:a,setSection:t}=e;return(0,n.jsxs)("div",{className:"my-2 flex",style:{justifyContent:"center"},children:[(0,n.jsx)("div",{onClick:()=>{t("first")},className:"first"===a?"slide-handler active":"slide-handler ",children:"1"}),(0,n.jsx)("div",{onClick:()=>{t("second")},className:"second"===a?"slide-handler active":"slide-handler ",children:"2"}),(0,n.jsx)("div",{onClick:()=>{t("third")},className:"third"===a?"slide-handler active":"slide-handler ",children:"3"})]})};a.default=function(){let{address:e,isConnected:a}=(0,o.m)(),[t]=(0,s.useState)(Date.now()),[l,y]=(0,s.useState)(""),[b,j]=(0,s.useState)(""),[N,g]=(0,s.useState)(""),[T,w]=(0,s.useState)(0),[S,C]=(0,s.useState)(0),[k,M]=(0,s.useState)(""),[P,O]=(0,s.useState)(0),[L,W]=(0,s.useState)(0),[F,A]=(0,s.useState)(0),[J,_]=(0,s.useState)(0),[R,B]=(0,s.useState)(""),[I,D]=(0,s.useState)(""),[U,E]=(0,s.useState)(""),[V,X]=(0,s.useState)(""),[q,H]=(0,s.useState)(""),[z,G]=(0,s.useState)((0,n.jsx)(n.Fragment,{})),[K,Q]=(0,s.useState)("first"),Y=()=>0==l.length?(H("Fill Presale Token Name"),setTimeout(()=>H(""),1800),!1):0==b.length?(H("Fill Presale Token symbol"),setTimeout(()=>H(""),1800),!1):0==N.length?(H("Fill Presale Token address"),setTimeout(()=>H(""),1800),!1):0==k.length?(H("Upload Presale token logo"),setTimeout(()=>H(""),1800),!1):0==J?(H("Fill presale period."),setTimeout(()=>H(""),1800),!1):0!=V.length||(H("Fill presale detail."),setTimeout(()=>H(""),1800),!1);(0,r.useRouter)();let Z=()=>{y(""),j(""),g(""),w(0),C(0),M(""),O(0),W(0),A(0),_(0),X(""),B(""),D(""),E("")},$=async()=>{let e=await (0,u.n)(m.v,{abi:x.W,address:N,functionName:"approve",args:[d.Jk,(0,d.r0)(2*S)]});return(0,c.e)(m.v,{hash:e})},ee=async e=>{try{let a=d.JW+"/api/presales/update-lastest/"+e,t=await fetch(a);await t.json()}catch(e){alert(e.message)}},ea=async a=>{let t={uid:a,token_name:l,token_symbol:b,token_address:N,total_supply:T,tokens_for_sale:S,token_logo:k,presale_tokens_per_eth:P,listing_tokens_per_eth:L,soft_cap:F,period:J,website:R,telegram:I,twitter:U,description:V,creator:e};if((t=JSON.stringify(t)).length<170){H("Please fill the form properly."),setTimeout(()=>{H("")},1500);return}try{let e=d.JW+"/api/presales/new",a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t});await a.json()}catch(e){alert(e.message)}},et=async()=>{let e=await (0,u.n)(m.v,{abi:f.h,address:d.Jk,functionName:"createPresale",args:[N,(0,d.r0)(String(S)),(0,d.r0)(String(P)),(0,d.r0)(String(F)),J,t],value:(0,d.r0)(d.Jc)});await (0,c.e)(m.v,{hash:e}),await ea(t),await ee(t),G((0,n.jsx)("div",{className:"flex-always",children:(0,n.jsx)("div",{className:"flex1 px-2",children:"Presale created successfully."})}))},en=async()=>{if(42!=N.length){j("");return}let e=await (0,p.L)(m.v,{abi:x.W,address:N,functionName:"symbol"});j(e)},es=async()=>{if(42!=N.length){y("");return}let e=await (0,p.L)(m.v,{abi:x.W,address:N,functionName:"name"});y(e)},el=async()=>{if(42!=N.length)return;let e=await (0,p.L)(m.v,{abi:x.W,address:N,functionName:"totalSupply"});w((0,d.mX)(e)),C(Math.round(.95*(0,d.mX)(e)))},ei=async e=>{let a=d.JW+"/api/presales/update-presale-detail?uid="+e,t=await fetch(a),n=await t.json();alert(JSON.stringify(n))},er=async()=>{Y()&&(G((0,n.jsxs)("div",{className:"flex-always",children:[(0,n.jsx)("div",{className:"spinner mx-2"}),(0,n.jsx)("div",{className:"flex1 px-2",children:"Approving presale tokens..."})]})),await $(),G((0,n.jsxs)("div",{className:"flex-always",children:[(0,n.jsx)("div",{className:"spinner mx-2"}),(0,n.jsx)("div",{className:"flex1 px-2",children:"Creating New Presale ..."})]})),await et(),await ei(t),Z())};return((0,s.useEffect)(()=>{en(),es(),el()},[N]),a)?(0,n.jsxs)("main",{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"Create New ICO"})}),(0,n.jsx)("h1",{className:"b my-6 fs-4",children:"Create New ICO"}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"bg bd",style:{width:"600px",padding:"25px",border:"solid 1px #0054ff",borderRadius:"20px",margin:"0 auto"},children:["first"===K?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"cen fs-3 b",children:"Token Information"}),(0,n.jsx)(v,{section:K,setSection:Q}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Address "}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{g(e.target.value)},placeholder:"Token Contract Address",value:N})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Token Name "}),(0,n.jsx)("input",{className:"token-symbol flex1",maxLength:10,placeholder:"Token Name",onChange:e=>{y(e.target.value)},value:l})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Token Symbol "}),(0,n.jsx)("input",{className:"token-symbol flex1",maxLength:10,placeholder:"Token Symbol",onChange:e=>{j(e.target.value)},value:b})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Total Supply"}),(0,n.jsx)("input",{className:"token-symbol flex1",type:"number",placeholder:"Total Supply",onChange:e=>{w(Number(e.target.value))},value:T})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Tokens For Sale (Same amount will be provided for Liquidity) "}),(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)("input",{type:"number",min:.3*Math.round(T),className:"flex1",onChange:e=>{C(Number(e.target.value))},placeholder:"Tokens For Sale",value:S})}),(0,n.jsxs)("div",{style:{color:"#333355",marginTop:"5px"},children:["Total Token Need : ",2*S]}),(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)("button",{onClick:()=>Q("second"),className:"btn-classic",children:"Next"})})]})]}):null,"second"===K?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h2",{className:"cen fs-3 b",children:"Tokenomics"}),(0,n.jsx)(v,{section:K,setSection:Q}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Tokens Per BNB During Presale "}),(0,n.jsx)("input",{className:"flex1",type:"number",onChange:e=>{O(Number(e.target.value))},placeholder:"ICO Price",value:P})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Tokens Per BNB when Listing"}),(0,n.jsx)("input",{className:"flex1",type:"number",placeholder:"Listing Price",onChange:e=>{W(Number(e.target.value))},value:L})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"ICO Period in Hours"}),(0,n.jsx)("input",{min:0,className:"flex1",type:"number",onChange:e=>{_(Number(e.target.value))},step:1,placeholder:"Period In Days",value:J})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Soft Cap (BNB) "}),(0,n.jsx)("input",{min:0,className:"flex1",type:"number",value:F,onChange:e=>{A(Number(e.target.value))},step:100})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Token Logo URL"}),(0,n.jsx)("input",{className:"flex1",type:"text",value:k,onChange:e=>{M(e.target.value)}})]})]}),(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)("button",{onClick:()=>Q("third"),className:"btn-classic",children:"Next"})})]}):null,"third"===K?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"cen fs-3 b",children:"Description & Links"}),(0,n.jsx)(v,{section:K,setSection:Q}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Website "}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{B(e.target.value)},placeholder:"URL",value:R})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Telegram"}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{D(e.target.value)},placeholder:"URL",value:I})]}),(0,n.jsxs)("div",{className:"form-element",children:[(0,n.jsx)("label",{children:"Twitter"}),(0,n.jsx)("input",{className:"flex1",onChange:e=>{E(e.target.value)},placeholder:"URL",value:U})]}),(0,n.jsxs)("div",{className:"form-element py-3",children:[(0,n.jsx)("label",{children:"Short Description"}),(0,n.jsx)("textarea",{className:"flex1",style:{height:90},placeholder:"We are the ... ",onChange:e=>{X(e.target.value)},value:V})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"",style:{display:"flex",position:"relative",top:"-22px",height:"10px"},children:[(0,n.jsx)("div",{className:"",style:{color:"red"},children:q}),(0,n.jsx)("div",{className:"",style:{position:"relative"},children:z})]}),(0,n.jsxs)("div",{className:"",children:[e&&(0,n.jsx)("button",{className:"btn-classic",onClick:er,children:"Create Presale"}),!e&&(0,n.jsx)(h(),{href:"/connect",className:"btn-classic",children:"Connect Wallet"})]})]})]}):null]})})})]}):(0,n.jsx)("div",{style:{color:"white",padding:"50px",textAlign:"center"},children:(0,n.jsx)(h(),{style:{color:"white",padding:"10px 15px",borderRadius:"10px",margin:"30px",border:"solid 1px gray"},href:"/connect",children:"Connect Wallet"})})}}},function(e){e.O(0,[731,396,891,749,500,15,971,864,744],function(){return e(e.s=9274)}),_N_E=e.O()}]);