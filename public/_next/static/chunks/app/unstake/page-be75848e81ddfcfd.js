(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137,500,299],{35883:function(){},46601:function(){},29120:function(){},46586:function(){},65091:function(e,t,n){Promise.resolve().then(n.bind(n,42954))},64207:function(e,t){"use strict";function n(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},42954:function(e,t,n){"use strict";n.r(t);var r=n(57437),c=n(2265),i=n(24033),o=n(64207),s=n.n(o),u=n(99835),a=n(49698),l=n(10479),d=n(45057),f=n(3467),h=n(89007),p=n(61396),v=n.n(p);t.default=function(e){let{address:t}=(0,u.m)(),n=(0,i.useSearchParams)(),o=n.get("uid"),p=n.get("index_no"),g={name:"Pool",uid:o,detail:""},[m,b]=(0,c.useState)(g),[y,x]=(0,c.useState)(0),[j,w]=(0,c.useState)(0),S=(0,c.useRef)(y),[_,O]=(0,c.useState)(0),[N,P]=(0,c.useState)(""),E=e=>new Promise(t=>{let n=a.JW+"/api/pool?uid="+e;fetch(n).then(e=>e.json()).then(e=>{g=e,x(e.amount),b(e),t()}).catch(e=>{P("Fetch error:"+e)})}),k=(e,t,n)=>{let r=a.JW+"/api/stake/delete";fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e,uid:t,index_no:n})}).then(e=>e.json()).then(async e=>{}).catch(e=>{console.error("Fetch error:",e)})},C=async()=>{let e=await (0,l.n)(h.v,{abi:a.abi,address:a.FP,functionName:"unstake",args:[m.uid,p]}),n=(0,d.e)(h.v,{hash:e});n.then(async e=>{I().then(()=>{k(t,m.uid,p)})})};async function I(){return new Promise(async e=>{let n=await (0,f.L)(h.v,{abi:a.abi,address:a.FP+"",functionName:"getBalanceApprove",args:[g.staking_token_address+"",t+"",m.uid+""]});O((0,a.mX)(n[0])),x(()=>(0,a.mX)(n[2])),w((0,a.mX)(n[3])),S.current=(0,a.mX)(n[2]),e()})}return(0,c.useEffect)(()=>{E(m.uid).then(()=>I())},[]),(0,r.jsxs)("main",{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Unstake Now"})}),(0,r.jsx)("h1",{children:"Unstake Now"}),(0,r.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},className:"bg  px-3 py-3",children:[(0,r.jsx)("h2",{className:"cen tcs",children:m.name}),(0,r.jsxs)("p",{className:"cen gray",children:["Pool Id # ",o]}),(0,r.jsx)("p",{className:"cen red fs-2 white",children:"Please claim your reward before unstaking."}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"fs-2 box gray cen",children:["Staked Tokens:",(0,r.jsxs)("span",{className:"green",children:["  ",y," ",m.staking_token_name," "]})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"fs-2 gray box cen",children:["Available Reward",(0,r.jsxs)("span",{className:"green",children:["  ",j," ",m.reward_token_name," "]})]})})]}),(0,r.jsxs)("div",{className:"form-element right",children:[(0,r.jsx)(v(),{href:"/claim-reward?uid="+m.uid,className:"px-2 white box ",children:"Claim Reward"}),(0,r.jsx)("button",{className:"mx-2",onClick:()=>{C()},children:"Unstake"})]})]})]})}},49698:function(e,t,n){"use strict";n.d(t,{FP:function(){return o},JW:function(){return c},Jk:function(){return s},NM:function(){return u},i4:function(){return i},mX:function(){return a},r0:function(){return l}});var r=n(41935);let c="https://bnbdoginu.com/",i="0x6489bC90146A8db2615468Ef198c08B786280954",o="0x05d0BAab0ee917F0Ed8df8E34BF29Ef8c4636A01",s="0x710A8F5aE44b5a1a18976D87B4442aAc9b9e9609",u=e=>Math.round(1e3*e)/1e3;function a(e){return e=u(1e4*r.dF(e.toString()))/1e4}function l(e){return e=r.vz(e+"","ether")}},89007:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(16237),c=n(20246),i=n(77433),o=n(16198),s=n(10337),u=n(91735);let a=(0,r._)({chains:[u.d],connectors:[(0,i.L)(),(0,o.D)({appName:"BNBDOGINU"}),(0,s.a)({projectId:"fe0b280c99ba43c32644fb8b84e7dc96"})],ssr:!0,transports:{[u.d.id]:(0,c.d)()}})},81853:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),c="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!c(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),c=r[0].inst,l=r[1];return s(function(){c.value=n,c.getSnapshot=t,a(c)&&l({inst:c})},[e,n,t]),o(function(){return a(c)&&l({inst:c}),e(function(){a(c)&&l({inst:c})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},78704:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),c=n(26272),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=c.useSyncExternalStore,s=r.useRef,u=r.useEffect,a=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=o(e,(d=a(function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(o=e,s=n)}var o,s,u=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,n,r,c]))[0],d[1]);return u(function(){f.hasValue=!0,f.value=h},[h]),l(h),h}},26272:function(e,t,n){"use strict";e.exports=n(81853)},65401:function(e,t,n){"use strict";e.exports=n(78704)},3467:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(3458),c=n(53883),i=n(65573),o=n(82600),s=n(58448);async function u(e,t){let{abi:n,address:u,args:a,functionName:l,...d}=t,f=(0,c.R)({abi:n,args:a,functionName:l});try{let{data:t}=await (0,o.s)(e,s.R,"call")({...d,data:f,to:u});return(0,r.k)({abi:n,args:a,functionName:l,data:t||"0x"})}catch(e){throw(0,i.S)(e,{abi:n,address:u,args:a,docsPath:"/docs/contract/readContract",functionName:l})}}function a(e,t){let{chainId:n}=t,r=e.getClient({chainId:n});return u(r,t)}},48369:function(e,t,n){"use strict";n.d(t,{v:function(){return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){let r,c;if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)&&Array.isArray(n)){if((r=t.length)!==n.length)return!1;for(c=r;0!=c--;)if(!e(t[c],n[c]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();let i=Object.keys(t);if((r=i.length)!==Object.keys(n).length)return!1;for(c=r;0!=c--;)if(!Object.prototype.hasOwnProperty.call(n,i[c]))return!1;for(c=r;0!=c--;){let r=i[c];if(r&&!e(t[r],n[r]))return!1}return!0}return t!=t&&n!=n}}})},81229:function(e,t,n){"use strict";n.d(t,{V:function(){return s},F:function(){return u}});var r=n(2265);let c=!1;async function i(e,t={}){if(c)return[];c=!0,e.setState(e=>({...e,status:e.current?"reconnecting":"connecting"}));let n=[];if(t.connectors?.length)for(let r of t.connectors){let t;t="function"==typeof r?e._internal.connectors.setup(r):r,n.push(t)}else n.push(...e.connectors);let r=await e.storage?.getItem("recentConnectorId"),i={};for(let[,t]of e.state.connections)i[t.connector.id]=1;r&&(i[r]=0);let o=Object.keys(i).length>0?[...n].sort((e,t)=>(i[e.id]??10)-(i[t.id]??10)):n,s=!1,u=[];for(let t of o){let n=await t.isAuthorized();if(!n)continue;let r=await t.connect({isReconnecting:!0}).catch(()=>null);r&&(t.emitter.off("connect",e._internal.events.connect),t.emitter.on("change",e._internal.events.change),t.emitter.on("disconnect",e._internal.events.disconnect),e.setState(e=>{let n=new Map(s?e.connections:new Map).set(t.uid,{accounts:r.accounts,chainId:r.chainId,connector:t});return{...e,current:s?e.current:t.uid,connections:n}}),u.push({accounts:r.accounts,chainId:r.chainId,connector:t}),s=!0)}return s?e.setState(e=>({...e,status:"connected"})):e.setState(e=>({...e,connections:new Map,current:void 0,status:"disconnected"})),c=!1,u}function o(e){let{children:t,config:n,initialState:c,reconnectOnMount:o=!0}=e,{onMount:s}=function(e,t){let{initialState:n,reconnectOnMount:r}=t;return n&&e.setState({...n,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){if(e._internal.ssr){await e._internal.store.persist.rehydrate();let t=e._internal.mipd?.getProviders().map(e._internal.connectors.providerDetailToConnector).map(e._internal.connectors.setup);e._internal.connectors.setState(e=>[...e,...t??[]])}r?i(e):e.storage&&e.setState(e=>({...e,connections:new Map}))}}}(n,{initialState:c,reconnectOnMount:o});n._internal.ssr||s();let u=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(u.current&&n._internal.ssr)return s(),()=>{u.current=!1}},[]),t}let s=(0,r.createContext)(void 0);function u(e){let{children:t,config:n}=e;return(0,r.createElement)(o,e,(0,r.createElement)(s.Provider,{value:n},t))}},99835:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(48369);function c(e){let t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,c=r?.[0],i=e.chains.find(e=>e.id===n?.chainId),o=e.state.status;switch(o){case"connected":return{address:c,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:c,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!c,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:c,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:i,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}var i=n(41012),o=n(2265),s=n(65401);let u=e=>"object"==typeof e&&!Array.isArray(e);function a(e={}){let t=(0,i.Z)(e);return function(e,t,n=t,c=r.v){let i=(0,o.useRef)([]),a=(0,s.useSyncExternalStoreWithSelector)(e,t,n,e=>e,(e,t)=>{if(u(e)&&u(t)&&i.current.length){for(let n of i.current){let r=c(e[n],t[n]);if(!r)return!1}return!0}return c(e,t)});if(u(a)){let e={...a};return Object.defineProperties(e,Object.entries(e).reduce((e,[t,n])=>({...e,[t]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(t)||i.current.push(t),n)}}),{})),e}return a}(e=>(function(e,t){let{onChange:n}=t;return e.subscribe(()=>c(e),n,{equalityFn(e,t){let{connector:n,...c}=e,{connector:i,...o}=t;return(0,r.v)(c,o)&&n?.id===i?.id&&n?.uid===i?.uid}})})(t,{onChange:e}),()=>c(t))}},41012:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2265),c=n(81229),i=n(62549);let o=()=>"wagmi@2.0.0-rc.3";class s extends i.G{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://rc.wagmi.sh/react"}get version(){return o()}}class u extends s{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"https://rc.wagmi.sh/react/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function a(e={}){let t=e.config??(0,r.useContext)(c.V);if(!t)throw new u;return t}}},function(e){e.O(0,[731,396,261,166,749,971,864,744],function(){return e(e.s=65091)}),_N_E=e.O()}]);