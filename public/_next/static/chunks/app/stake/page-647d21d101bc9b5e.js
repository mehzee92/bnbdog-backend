(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{35883:function(){},46601:function(){},29120:function(){},46586:function(){},26706:function(e,s,n){Promise.resolve().then(n.bind(n,36295))},88670:function(e,s,n){"use strict";n.d(s,{Dk:function(){return l},R2:function(){return o},TR:function(){return a},nh:function(){return r},pU:function(){return c}});var t=n(39730);let i=(0,t.oM)({name:"blockchain",initialState:{chain:97,stakingFee:0,poolFee:0,pools:{},showConnectComponent:!1},reducers:{setChain:(e,s)=>{e.chain=s.payload},updateFees:(e,s)=>{let n=s.payload;e.stakingFee=n.stakingFee,e.poolFee=n.poolFee},setShowConnectComponent:(e,s)=>{let n=s.payload;e.showConnectComponent=n},updatePool:(e,s)=>{let n=s.payload,t=n.uid;e.pools[t]=n},updatePoolDetail:(e,s)=>{let n=s.payload,t=n.uid;e.pools[t].avalReward=n.avalReward,e.pools[t].issuedReward=n.issuedReward,e.pools[t].stakedAmount=n.stakedAmount,e.pools[t].count=n.count}}}),{setChain:a,updatePool:r,updatePoolDetail:c,updateFees:o,setShowConnectComponent:l}=i.actions;s.ZP=i.reducer},36295:function(e,s,n){"use strict";n.r(s);var t=n(57437),i=n(2265),a=n(24033),r=n(99835),c=n(13580),o=n(10479),l=n(45057),d=n(3467),u=n(89007),p=n(93046),h=n(88670),m=n(61396),x=n.n(m);s.default=function(e){var s,n,m,f,v,g,y,j,N,b,w,k,_,S,F,A,C,R,O,P,I,E,M,T,D,L,W,$,V,X,U,B;let{address:J,isConnected:H}=(0,r.m)(),Y=(0,a.useSearchParams)(),Z=Y.get("uid"),[z,G]=(0,i.useState)([{stakedAmount:1223.22}]),[q,K]=(0,i.useState)(0),[Q,ee]=(0,i.useState)(0),[es,en]=(0,i.useState)(0),[et,ei]=(0,i.useState)(0);(0,i.useRef)(et);let[ea,er]=(0,i.useState)(""),[ec,eo]=(0,i.useState)((0,t.jsx)(t.Fragment,{}));(0,a.useRouter)();let el=(0,p.I0)(),ed=(0,p.v9)(e=>e.blockchain),eu=async e=>{let s=c.JW+"/api/pool?uid="+e+"&chain="+ed.chain,n=await fetch(s),t=await n.json();t.uid=Z,el((0,h.nh)(t))},ep=async(e,s)=>new Promise((n,t)=>{let i=ed.chain,a={uid:Z,chain:i,staker:J,amount:e,index_no:s};a=JSON.stringify(a);let r=c.JW+"/api/stake/new";fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then(e=>{console.log(e),n()}).catch(e=>{console.error("Fetch error:",e)})}),eh=async()=>{let e=(0,c.r0)(ed.stakingFee+""),s=ed.pools[Z].staking_token_address,n=c.i4[ed.chain];if(s==n){let s=1*ed.stakingFee+1*q;if(s<=es)return new Promise((e,s)=>{e()});e=(0,c.r0)(1*ed.stakingFee+1*q)}let t=await (0,o.n)(u.v,{abi:c.Mt,address:c.i4[ed.chain],functionName:"approve",args:[c.$0[ed.chain],e]}),i=(0,l.e)(u.v,{hash:t});return i};async function em(){let e=c.$0[ed.chain]+"",s=await (0,d.L)(u.v,{abi:c.Mt,address:e,functionName:"fees"});el((0,h.R2)({stakingFee:(0,c.mX)(s[0]),poolFee:(0,c.mX)(s[1])}))}let ex=async e=>{eo((0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"spinner"}),(0,t.jsx)("div",{className:"flex1 mx-2 px-2 py-1",children:"Approving staking tokens ..."})]}));let s=e,n=ed.pools[Z].staking_token_address,i=c.i4[ed.chain];n==i&&(s=parseFloat(ed.stakingFee)+1*e);let a=await (0,o.n)(u.v,{abi:c.Mt,address:ed.pools[Z].staking_token_address,functionName:"approve",args:[c.$0[ed.chain],(0,c.r0)(s)]}),r=await (0,l.e)(u.v,{hash:a});return r},ef=async e=>{if(0==e){er("Amount must be more than zero"),setTimeout(()=>{er("")},1500);return}if(e>es){er("Amount being staked should be alread approved."),setTimeout(()=>{er("")},4e3);return}let s=await (0,o.n)(u.v,{abi:c.Mt,address:c.$0[ed.chain],functionName:"stake",args:[Z,(0,c.r0)(e+"")]}),n=(0,l.e)(u.v,{hash:s});return n};async function ev(){let e=ed.pools[Z].staking_token_address,s=J+"";return new Promise(async n=>{let t=await (0,d.L)(u.v,{abi:c.Mt,address:c.$0[ed.chain]+"",functionName:"getBalanceApprove",args:[e+"",s]});ee(()=>(0,c.mX)(t[0])),en(()=>(0,c.mX)(t[1])),n()})}async function eg(e){let s=await (0,d.L)(u.v,{abi:c.Mt,address:c.$0[ed.chain]+"",functionName:"getPoolDetails",args:[e]});return s}let ey=async()=>{await eu(Z);let e=await eg(Z),s=(0,c.mX)(e[0]),n=(0,c.mX)(e[1]),t=(0,c.mX)(e[2]),i=parseInt(e[3].toString());el((0,h.pU)({uid:Z,avalReward:s,issuedReward:n,stakedAmount:t,count:i})),0==ed.stakingFee&&em()};(0,i.useEffect)(()=>{ey()},[]),(0,i.useEffect)(()=>{var e;J&&H&&(null===(e=ed.pools[Z])||void 0===e?void 0:e.staking_token_address)&&ev()},[J,H,null===(s=ed.pools[Z])||void 0===s?void 0:s.staking_token_address]);let ej=async()=>{J&&H?ex(q).then(()=>{setTimeout(()=>eo((0,t.jsx)(t.Fragment,{children:"Approved successfully."}))),setTimeout(()=>{ey()},1300),setTimeout(()=>{ev()},1300),setTimeout(()=>{ew()},1300),setTimeout(()=>eo((0,t.jsx)(t.Fragment,{children:"You can stake now."})),1500)}):el((0,h.Dk)(!0))},eN=async(e,s)=>{let n=await (0,d.L)(u.v,{abi:c.Mt,address:c.$0[ed.chain]+"",functionName:"getLastIndex",args:[e,s]});return n},eb=async()=>{J&&H?0!=q&&(setTimeout(()=>eo((0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"spinner"}),(0,t.jsx)("div",{className:"flex1 mx-2 px-2 py-1",children:"Approving fee tokens $Haven ..."})]}))),eh().then(async()=>(eo((0,t.jsx)(t.Fragment,{children:"Approved successfully."})),setTimeout(()=>eo((0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"spinner"}),(0,t.jsx)("div",{className:"flex1 mx-2 px-2 py-1",children:"Staking tokens now ..."})]})),800),ef(q))).then(async()=>{let e=await eN(J,Z);return ep(q,e.toString())}).then(()=>{K(0),setTimeout(()=>eo((0,t.jsx)(t.Fragment,{children:"Staked successfully"}))),setTimeout(()=>{ey()},1300),setTimeout(()=>{ev()},1300),setTimeout(()=>{ew()},1300),setTimeout(()=>eo((0,t.jsx)(t.Fragment,{})),2500)})):el((0,h.Dk)(!0))},ew=async()=>{let e=c.JW+"/api/my-positions?chain="+ed.chain+"&uid="+Z+"&staker="+J,s=await fetch(e),n=await s.json();G(n)};return(0,i.useEffect)(()=>{J&&H&&ed.chain>1&&Z&&ew()},[Z,J,ed.chain]),(0,t.jsx)("main",{children:(0,t.jsx)("div",{className:"container my-3",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex1 my-1 px-4 py-3",style:{border:"solid 1px #244492",backgroundColor:"#FFFFFF08",borderRadius:"12px"},children:[(0,t.jsxs)("p",{className:"gray fs-2 py-2",children:["Pool Id # ",null===(n=ed.pools[Z])||void 0===n?void 0:n.uid]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("h2",{className:"flex1 fs-4 left",children:"About Pool"}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("a",{href:null===(m=ed.pools[Z])||void 0===m?void 0:m.website,className:"px-1 py-1",children:(0,t.jsx)("img",{style:{width:"20px",height:"20px"},src:"/images/social/website.png"})}),(0,t.jsx)("a",{href:null===(f=ed.pools[Z])||void 0===f?void 0:f.telegram,className:"px-1 py-1",children:(0,t.jsx)("img",{style:{width:"20px",height:"20px"},src:"/images/social/telegram.svg"})}),(0,t.jsx)("a",{href:null===(v=ed.pools[Z])||void 0===v?void 0:v.facebook,className:"px-1",children:(0,t.jsx)("img",{style:{width:"20px",height:"20px"},src:"/images/social/facebook.svg"})}),(0,t.jsx)("a",{href:null===(g=ed.pools[Z])||void 0===g?void 0:g.twitter,className:"px-1 ",children:(0,t.jsx)("img",{style:{width:"20px",height:"20px"},src:"/images/social/twitter.svg"})}),(0,t.jsx)("a",{href:null===(y=ed.pools[Z])||void 0===y?void 0:y.instagram,className:"px-1",children:(0,t.jsx)("img",{style:{width:"20px",height:"20px"},src:"/images/social/instagram.svg"})})]})]}),(0,t.jsxs)("div",{className:"flex my-2",children:[(0,t.jsx)("img",{className:"token-logo",style:{width:"40px",height:"40px"},src:null===(j=ed.pools[Z])||void 0===j?void 0:j.reward_token_logo}),(0,t.jsx)("img",{className:"token-logo",style:{width:"40px",height:"40px",marginLeft:"-15px"},src:null===(N=ed.pools[Z])||void 0===N?void 0:N.staking_token_logo}),(0,t.jsx)("div",{className:"fs-2 b",style:{padding:"8px 12px"},children:null===(b=ed.pools[Z])||void 0===b?void 0:b.name})]}),(0,t.jsx)("div",{className:"b green fs-2 py-1",children:"Description"}),(0,t.jsx)("p",{className:"white py-2",style:{lineHeight:"25px"},children:null===(w=ed.pools[Z])||void 0===w?void 0:w.detail}),(0,t.jsxs)("div",{className:"flex ",style:{width:"350px"},children:[(0,t.jsxs)("div",{className:"bg box flex1 my-1",children:[(0,t.jsxs)("div",{className:"green b py-1 cen fs-3",children:[null===(k=ed.pools[Z])||void 0===k?void 0:k.reward_percentage,"%"]}),(0,t.jsx)("div",{className:"gray py-1 cen fs-3",children:"APY"})]}),(0,t.jsx)("div",{className:"lg-only px-1  py-2"}),(0,t.jsxs)("div",{className:"bg box flex1 my-1",children:[(0,t.jsxs)("div",{className:"green b py-1 cen fs-3",children:[null===(_=ed.pools[Z])||void 0===_?void 0:_.period," Days"]}),(0,t.jsx)("div",{className:"gray py-1 cen fs-3",children:"Duration"})]})]}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex flex1",children:(0,t.jsx)("label",{className:"fs-2",children:"Staking Amount"})}),(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("label",{children:[(0,t.jsx)("span",{className:"px-2",children:"Balance : "}),(0,t.jsxs)("span",{className:"b white",children:[" ",Q," "]}),(0,t.jsx)("span",{className:"gray",children:null===(S=ed.pools[Z])||void 0===S?void 0:S.staking_token_name})]})})]}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)("input",{autoFocus:!0,max:Q,className:"bg py-2 px-2",onChange:e=>{J&&H&&ev(),K(e.target.value)},value:q,type:"number"})})]})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex flex1",children:(0,t.jsxs)("label",{children:[(0,t.jsx)("span",{className:"px-2",children:"Staking Fee : "}),(0,t.jsxs)("span",{className:"b white",children:[" ",ed.stakingFee," "]}),(0,t.jsx)("span",{className:"white",children:"$Haven"})]})}),(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("label",{children:[(0,t.jsx)("span",{className:"px-2",children:"Approved : "}),(0,t.jsxs)("span",{className:"b white",children:[" ",es," "]}),(0,t.jsx)("span",{className:"gray",children:null===(F=ed.pools[Z])||void 0===F?void 0:F.staking_token_name})]})})]}),(0,t.jsx)("div",{className:"px-2",style:{height:"20px"},children:(0,t.jsx)("p",{children:ec})}),(0,t.jsxs)("div",{className:"py-2",children:[es>=q?(0,t.jsx)("button",{style:{width:"100%",borderRadius:"5px"},onClick:eb,children:"Stake Now"}):null,es<q?(0,t.jsxs)("button",{style:{width:"100%",borderRadius:"5px"},onClick:ej,children:["Approve ",null===(A=ed.pools[Z])||void 0===A?void 0:A.staking_token_name," "]}):null]})]}),(0,t.jsx)("div",{className:"px-2 lg-only"}),(0,t.jsxs)("div",{className:"flex1 ms-pt-20",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex1 bg box my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-2",children:null===(C=ed.pools[Z])||void 0===C?void 0:C.staking_token_name}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Stake"}),(0,t.jsxs)("p",{className:"gray cen py-1 fs-2",children:[null===(R=ed.pools[Z])||void 0===R?void 0:R.staking_token_address.slice(0,8),"...",null===(P=ed.pools[Z])||void 0===P?void 0:P.staking_token_address.slice(-8,null===(O=ed.pools[Z])||void 0===O?void 0:O.staking_token_address.length)]})]}),(0,t.jsx)("div",{className:"px-1 lg-only"}),(0,t.jsxs)("div",{className:"flex1 bg box my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-3",children:null===(I=ed.pools[Z])||void 0===I?void 0:I.reward_token_name}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Reward"}),(0,t.jsxs)("p",{className:"gray cen py-1 fs-2",children:[null===(M=ed.pools[Z])||void 0===M?void 0:null===(E=M.reward_token_address)||void 0===E?void 0:E.slice(0,8),"...",null===(D=ed.pools[Z])||void 0===D?void 0:D.reward_token_address.slice(-8,null===(T=ed.pools[Z])||void 0===T?void 0:T.staking_token_address.length)]})]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex1 bg box py-4 my-1",children:[(0,t.jsxs)("p",{className:"white cen py-1 b fs-3",children:[null===(L=ed.pools[Z])||void 0===L?void 0:L.sacrifice,"%"]}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Sacrifice"})]}),(0,t.jsx)("div",{className:"px-1 lg-only"}),(0,t.jsxs)("div",{className:"flex1 bg box py-4 my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-3",children:Math.round(1e5*(null===(W=ed.pools[Z])||void 0===W?void 0:W.stakedAmount))/1e5}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Total Staked"})]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex1 bg box py-4 my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-3",children:Math.round(1e5*(null===($=ed.pools[Z])||void 0===$?void 0:$.avalReward))/1e5}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Reward Available"})]}),(0,t.jsx)("div",{className:"px-1 py-4 lg-only"}),(0,t.jsxs)("div",{className:"flex1 bg box py-4 my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-3",children:Math.round(1e5*(null===(V=ed.pools[Z])||void 0===V?void 0:V.issuedReward))/1e5}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Reward Issued"})]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex1 bg box py-4 my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-3",children:null===(X=ed.pools[Z])||void 0===X?void 0:X.maxAmount}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Max Staking Capacity"})]}),(0,t.jsx)("div",{className:"px-1 py-4 lg-only"}),(0,t.jsxs)("div",{className:"flex1 bg box py-4 my-1",children:[(0,t.jsx)("p",{className:"white cen py-1 b fs-3",children:(null===(U=ed.pools[Z])||void 0===U?void 0:U.maxAmount)-Math.round(1e5*(null===(B=ed.pools[Z])||void 0===B?void 0:B.stakedAmount))/1e5}),(0,t.jsx)("p",{className:"green cen fs-2",children:"Remaining Capacity"})]})]}),(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex1 bg bd rd  py-4 my-1",style:{width:"100%!important"},children:[(0,t.jsx)("p",{className:"white b left px-2 py-1 b fs-3",children:"Your Positions"}),(0,t.jsxs)("div",{className:"flex mx-1 py-2 px-2 rd",children:[(0,t.jsx)("div",{className:"flex1 b gray-t",children:"Staked"}),(0,t.jsx)("div",{className:"flex1 b gray-t",children:"Staking Date"}),(0,t.jsx)("div",{className:"flex1 b gray-t",children:"Claim & Unstake"})]}),Array.isArray(z)?null:(0,t.jsxs)("div",{className:"flex my-4",style:{justifyContent:"center"},children:[(0,t.jsx)("div",{className:"spinner"})," ",(0,t.jsx)("p",{className:"fs-2 green px-3",children:" Loading .... "})]}),Array.isArray(z)&&z.map((e,s)=>{var n,i;return(0,t.jsxs)("div",{className:"flex bg mx-1 my-1 py-1 px-1 rd",children:[(0,t.jsxs)("div",{className:"flex1 py-2 px-3 green",children:[e.amount," ",null===(n=ed.pools[Z])||void 0===n?void 0:n.staking_token_name]}),(0,t.jsx)("div",{className:"flex1 py-2 green",children:null===(i=e.created_on)||void 0===i?void 0:i.split("T")[0]}),(0,t.jsx)("div",{className:"flex1 ",children:(0,t.jsx)(x(),{href:"/claim-reward?uid="+Z+"&chain="+ed.chain+"&index_no="+e.index_no,className:"btn-classic-sm",children:"Claim & Unstake"})})]})})]})}),(0,t.jsxs)("div",{className:"py-3",children:["If by any chance pool creator missed to add reward :",(0,t.jsx)(x(),{className:"white mx-2 btn",href:"/add-reward?uid="+Z,children:" Add Reward "})]})]})]})})})}},89007:function(e,s,n){"use strict";n.d(s,{v:function(){return l}});var t=n(16237),i=n(20246),a=n(77433),r=n(16198),c=n(10337),o=n(91735);let l=(0,t._)({chains:[o.d],connectors:[(0,a.L)(),(0,r.D)({appName:"BNBDOGINU"}),(0,c.a)({projectId:"fe0b280c99ba43c32644fb8b84e7dc96"})],ssr:!0,transports:{[o.d.id]:(0,i.d)()}})},81853:function(e,s,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=n(2265),i="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},a=t.useState,r=t.useEffect,c=t.useLayoutEffect,o=t.useDebugValue;function l(e){var s=e.getSnapshot;e=e.value;try{var n=s();return!i(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var n=s(),t=a({inst:{value:n,getSnapshot:s}}),i=t[0].inst,d=t[1];return c(function(){i.value=n,i.getSnapshot=s,l(i)&&d({inst:i})},[e,n,s]),r(function(){return l(i)&&d({inst:i}),e(function(){l(i)&&d({inst:i})})},[e]),o(n),n};s.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:d},78704:function(e,s,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=n(2265),i=n(26272),a="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},r=i.useSyncExternalStore,c=t.useRef,o=t.useEffect,l=t.useMemo,d=t.useDebugValue;s.useSyncExternalStoreWithSelector=function(e,s,n,t,i){var u=c(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;var h=r(e,(u=l(function(){function e(e){if(!o){if(o=!0,r=e,e=t(e),void 0!==i&&p.hasValue){var s=p.value;if(i(s,e))return c=s}return c=e}if(s=c,a(r,e))return s;var n=t(e);return void 0!==i&&i(s,n)?s:(r=e,c=n)}var r,c,o=!1,l=void 0===n?null:n;return[function(){return e(s())},null===l?void 0:function(){return e(l())}]},[s,n,t,i]))[0],u[1]);return o(function(){p.hasValue=!0,p.value=h},[h]),d(h),h}},26272:function(e,s,n){"use strict";e.exports=n(81853)},65401:function(e,s,n){"use strict";e.exports=n(78704)},48369:function(e,s,n){"use strict";n.d(s,{v:function(){return function e(s,n){if(s===n)return!0;if(s&&n&&"object"==typeof s&&"object"==typeof n){let t,i;if(s.constructor!==n.constructor)return!1;if(Array.isArray(s)&&Array.isArray(n)){if((t=s.length)!==n.length)return!1;for(i=t;0!=i--;)if(!e(s[i],n[i]))return!1;return!0}if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===n.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===n.toString();let a=Object.keys(s);if((t=a.length)!==Object.keys(n).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=t;0!=i--;){let t=a[i];if(t&&!e(s[t],n[t]))return!1}return!0}return s!=s&&n!=n}}})},81229:function(e,s,n){"use strict";n.d(s,{V:function(){return c},F:function(){return o}});var t=n(2265);let i=!1;async function a(e,s={}){if(i)return[];i=!0,e.setState(e=>({...e,status:e.current?"reconnecting":"connecting"}));let n=[];if(s.connectors?.length)for(let t of s.connectors){let s;s="function"==typeof t?e._internal.connectors.setup(t):t,n.push(s)}else n.push(...e.connectors);let t=await e.storage?.getItem("recentConnectorId"),a={};for(let[,s]of e.state.connections)a[s.connector.id]=1;t&&(a[t]=0);let r=Object.keys(a).length>0?[...n].sort((e,s)=>(a[e.id]??10)-(a[s.id]??10)):n,c=!1,o=[];for(let s of r){let n=await s.isAuthorized();if(!n)continue;let t=await s.connect({isReconnecting:!0}).catch(()=>null);t&&(s.emitter.off("connect",e._internal.events.connect),s.emitter.on("change",e._internal.events.change),s.emitter.on("disconnect",e._internal.events.disconnect),e.setState(e=>{let n=new Map(c?e.connections:new Map).set(s.uid,{accounts:t.accounts,chainId:t.chainId,connector:s});return{...e,current:c?e.current:s.uid,connections:n}}),o.push({accounts:t.accounts,chainId:t.chainId,connector:s}),c=!0)}return c?e.setState(e=>({...e,status:"connected"})):e.setState(e=>({...e,connections:new Map,current:void 0,status:"disconnected"})),i=!1,o}function r(e){let{children:s,config:n,initialState:i,reconnectOnMount:r=!0}=e,{onMount:c}=function(e,s){let{initialState:n,reconnectOnMount:t}=s;return n&&e.setState({...n,connections:t?n.connections:new Map,status:t?"reconnecting":"disconnected"}),{async onMount(){if(e._internal.ssr){await e._internal.store.persist.rehydrate();let s=e._internal.mipd?.getProviders().map(e._internal.connectors.providerDetailToConnector).map(e._internal.connectors.setup);e._internal.connectors.setState(e=>[...e,...s??[]])}t?a(e):e.storage&&e.setState(e=>({...e,connections:new Map}))}}}(n,{initialState:i,reconnectOnMount:r});n._internal.ssr||c();let o=(0,t.useRef)(!0);return(0,t.useEffect)(()=>{if(o.current&&n._internal.ssr)return c(),()=>{o.current=!1}},[]),s}let c=(0,t.createContext)(void 0);function o(e){let{children:s,config:n}=e;return(0,t.createElement)(r,e,(0,t.createElement)(c.Provider,{value:n},s))}},99835:function(e,s,n){"use strict";n.d(s,{m:function(){return l}});var t=n(48369);function i(e){let s=e.state.current,n=e.state.connections.get(s),t=n?.accounts,i=t?.[0],a=e.chains.find(e=>e.id===n?.chainId),r=e.state.status;switch(r){case"connected":return{address:i,addresses:t,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:r};case"reconnecting":return{address:i,addresses:t,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:r};case"connecting":return{address:i,addresses:t,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:r};case"disconnected":return{address:void 0,addresses:void 0,chain:a,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:r}}}var a=n(41012),r=n(2265),c=n(65401);let o=e=>"object"==typeof e&&!Array.isArray(e);function l(e={}){let s=(0,a.Z)(e);return function(e,s,n=s,i=t.v){let a=(0,r.useRef)([]),l=(0,c.useSyncExternalStoreWithSelector)(e,s,n,e=>e,(e,s)=>{if(o(e)&&o(s)&&a.current.length){for(let n of a.current){let t=i(e[n],s[n]);if(!t)return!1}return!0}return i(e,s)});if(o(l)){let e={...l};return Object.defineProperties(e,Object.entries(e).reduce((e,[s,n])=>({...e,[s]:{configurable:!1,enumerable:!0,get:()=>(a.current.includes(s)||a.current.push(s),n)}}),{})),e}return l}(e=>(function(e,s){let{onChange:n}=s;return e.subscribe(()=>i(e),n,{equalityFn(e,s){let{connector:n,...i}=e,{connector:a,...r}=s;return(0,t.v)(i,r)&&n?.id===a?.id&&n?.uid===a?.uid}})})(s,{onChange:e}),()=>i(s))}},41012:function(e,s,n){"use strict";n.d(s,{Z:function(){return l}});var t=n(2265),i=n(81229),a=n(62549);let r=()=>"wagmi@2.0.0-rc.3";class c extends a.G{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://rc.wagmi.sh/react"}get version(){return r()}}class o extends c{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"https://rc.wagmi.sh/react/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function l(e={}){let s=e.config??(0,t.useContext)(i.V);if(!s)throw new o;return s}}},function(e){e.O(0,[731,415,261,46,467,749,730,654,971,864,744],function(){return e(e.s=26706)}),_N_E=e.O()}]);